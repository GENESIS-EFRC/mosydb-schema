 version: 2
 jobs:
   build:
     docker:
       - image: circleci/python:3.8.1
     steps:
       - checkout
       - run:
           name: install conda and regolith and run validation
           command: |
             wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh
             chmod +x miniconda.sh
             bash miniconda.sh -b -p ~/miniconda
             source ~/miniconda/etc/profile.d/conda.sh
             conda activate base
             conda update conda
             conda config --set always_yes yes --set quiet true
             conda create -n validation python=3.9
             conda activate validation
             git config --global user.email "sb2896@columbia.edu"
             git config --global user.name "Simon Billinge"
             pip install git+git://github.com/GENESIS-EFRC/mosydb-schema@main
             python validate.py
